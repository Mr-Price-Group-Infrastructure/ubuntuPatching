# The playbook consists of three tasks:

# The first task uses the apt module to update the APT package cache.
# The second task uses the apt module to perform a distribution upgrade, effectively updating all packages to the latest versions.
# The final task displays a summary of the updates performed.

---
- name: Update Ubuntu Servers
  hosts: all
  become: yes  # To run commands with sudo (root) privileges

  tasks:
    - name: Update apt repo and cache on all Debian/Ubuntu boxes
      apt:
        update_cache: yes 
        force_apt_get: yes 
        cache_valid_time: 3600

    - name: Upgrade all packages on servers
      apt:
        upgrade: dist 
        force_apt_get: yes
        
